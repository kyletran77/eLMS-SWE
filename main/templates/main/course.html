{% extends 'index.html' %}
{% load static %}
{% block title %} Earth's Systems with Pumpus & Pals | Boon-dah Learning {% endblock title %}
{% block profile %}
{% url 'profile' student.student_id %}
{% endblock %}
{% block user %}
{{student.name}}
{% endblock user %}
{% block courses %}
{% url 'myCourses' %}
{% endblock courses %}
{% block allCourses %}
{% url 'courses' %}
{% endblock allCourses %}
{% block content %}
<div>
   <!-- navigation links -->
   <div class="container shadow-sm">
      <nav style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='currentColor'/%3E%3C/svg%3E&#34;);" aria-label="breadcrumb">
         <ol class="breadcrumb p-3">
            <li class="breadcrumb-item fw-bold"><a style="color: rgb(10, 10, 48)" href="{% url 'myCourses' %}">My
               Learning Path</a>
            </li>
            <li class="breadcrumb-item fw-bold animate__animated animate__backInRight"><a class="breadcrumb-item active"
               aria-current="page">Earth's Systems with Pumpus & Pals</a></li>
         </ol>
      </nav>
   </div>
   <!-- navigation links end -->
   
   <!-- Course Header with Character Guides -->
   <div class="container mt-3">
      <div class="card mb-4" style="background-color: #e8f5e9;">
         <div class="card-body">
            <div class="row align-items-center">
               <div class="col-md-9">
                  <h2 class="card-title fw-bold mb-3">Earth's Systems with Pumpus & Pals</h2>
                  <p class="card-text">Join Pumpus and friends on an exciting adventure to learn about weather, water cycles, and how Earth's surface changes over time! This course uses the 5E instructional framework with visual supports and hands-on activities designed for neurodiverse learners.</p>
                  <div class="mt-2">
                     <span class="badge bg-info me-1">NGSSS Standards 3-ESS2-1, 3-ESS2-2, 3-ESS3-1</span>
                     <span class="badge bg-success me-1">Visual Learning</span>
                     <span class="badge bg-warning text-dark">Drama-Based</span>
                  </div>
               </div>
               <div class="col-md-3 text-center">
                  <img src="{% static 'images/Boon-dah-Learning-logo.jpg' %}" alt="Boon-dah Learning Logo" class="img-fluid rounded" style="max-height: 150px;">
               </div>
            </div>
         </div>
      </div>
   </div>

   <!-- 5E Framework Navigation -->
   <div class="container mb-4">
      <div class="card">
         <div class="card-header bg-success text-white">
            <h4 class="mb-0">5E Learning Framework</h4>
         </div>
         <div class="card-body p-0">
            <ul class="nav nav-pills nav-fill">
               <li class="nav-item">
                  <a class="nav-link active" href="#engage">
                     <div class="d-flex flex-column align-items-center p-2">
                        <span class="badge rounded-circle bg-danger mb-1" style="width: 25px; height: 25px; display: flex; align-items: center; justify-content: center;">1</span>
                        <span>Engage</span>
                     </div>
                  </a>
               </li>
               <li class="nav-item">
                  <a class="nav-link" href="#explore">
                     <div class="d-flex flex-column align-items-center p-2">
                        <span class="badge rounded-circle bg-warning text-dark mb-1" style="width: 25px; height: 25px; display: flex; align-items: center; justify-content: center;">2</span>
                        <span>Explore</span>
                     </div>
                  </a>
               </li>
               <li class="nav-item">
                  <a class="nav-link" href="#explain">
                     <div class="d-flex flex-column align-items-center p-2">
                        <span class="badge rounded-circle bg-info mb-1" style="width: 25px; height: 25px; display: flex; align-items: center; justify-content: center;">3</span>
                        <span>Explain</span>
                     </div>
                  </a>
               </li>
               <li class="nav-item">
                  <a class="nav-link" href="#elaborate">
                     <div class="d-flex flex-column align-items-center p-2">
                        <span class="badge rounded-circle bg-primary mb-1" style="width: 25px; height: 25px; display: flex; align-items: center; justify-content: center;">4</span>
                        <span>Elaborate</span>
                     </div>
                  </a>
               </li>
               <li class="nav-item">
                  <a class="nav-link" href="#evaluate">
                     <div class="d-flex flex-column align-items-center p-2">
                        <span class="badge rounded-circle bg-success mb-1" style="width: 25px; height: 25px; display: flex; align-items: center; justify-content: center;">5</span>
                        <span>Evaluate</span>
                     </div>
                  </a>
               </li>
            </ul>
         </div>
      </div>
   </div>

   <div class="container d-flex flex-wrap flex-column">
      <!-- course announcements starts -->
      <div class="rounded p-3 m-3 shadow border border-top-0 border-end-0 border-bottom-0 border-primary border-5">
         <div class="fw-bold animate__animated animate__zoomInDown fs-5 text-center border-bottom border-1 mb-2 py-2" style="color: rgb(10, 10, 48);"><img src="{% static 'images/icon/megaphone.png' %}"
            alt="" style="height:1.5rem;vertical-align: text-top"><span style="margin-right: 0.6rem;"></span>Announcement
         </div>
         <div>
            {% for announcement in announcements %}
            <!-- individual announcement starts -->
            <div class="fs-6" id="annDescription{{announcement.id}}">{% autoescape off %}{{announcement.description}}{% endautoescape %}</div>
            <div class="d-flex flex-row-reverse border-bottom border-1">
               <div style="color:grey;" class="mb-1">
                  {{announcement.post_date}}
               </div>
            </div>
            <!-- individual announcement ends-->
            {% empty %}
            <div class="alert alert-info">
                <p class="fs-6 mb-0"><strong>Welcome to Earth's Systems with Pumpus & Pals!</strong></p>
                <p class="mb-0">We're so excited to have you join our learning adventure! In this course, you'll discover fascinating things about our Earth with the help of your new friends Pumpus and Filbin.</p>
            </div>
            {% endfor %}
         </div>
      </div>
      <!-- announcements section ends -->
      
      <!-- Current Lesson Section Starts -->
      <div class="rounded p-3 m-3 shadow border border-top-0 border-bottom-0 border-end-0 border-danger border-5 mb-2">
         <div class="fw-bold fs-5 text-center animate__animated animate__zoomInDown border-bottom border-1 mb-2 py-2" style="color: rgb(10, 10, 48);">
            <img src="{% static 'images/icon/open-book.png' %}" alt="" style="height:1.5rem; vertical-align: text-top">
            <span style="margin-right: 0.6rem;"></span>Current Lesson: The Water Cycle
         </div>
         
         <div class="card mb-3">
            <div class="card-body">
               <div class="row">
                  <div class="col-md-8">
                     <h5 class="card-title">The Water Cycle Adventure</h5>
                     <p class="card-text">Join Pumpus and Filbin as they discover how water travels through our environment in an endless cycle!</p>
                     
                     <h6 class="mt-3 mb-2 fw-bold">Your Progress:</h6>
                     <div class="progress mb-3" style="height: 10px;">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 75%;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                     </div>
                     
                     <h6 class="mt-3 mb-2 fw-bold">Learning Activities:</h6>
                     <ul class="list-group mb-3">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                           <span>üìñ "The Curious Raindrop" story with Pumpus</span>
                           <span class="badge bg-success rounded-pill">Completed</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                           <span>üß™ "Water Cycle in a Bag" experiment</span>
                           <span class="badge bg-success rounded-pill">Completed</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                           <span>üé≠ "Be the Water Cycle" role-play activity</span>
                           <span class="badge bg-warning text-dark rounded-pill">In Progress</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                           <span>üìù Water Cycle vocabulary building</span>
                           <span class="badge bg-secondary rounded-pill">Not Started</span>
                        </li>
                     </ul>
                     
                     <a href="#" class="btn btn-success">Continue Lesson</a>
                  </div>
                  <div class="col-md-4">
                     <div class="card">
                        <div class="card-header bg-light">
                           <h5 class="mb-0">Learning Supports</h5>
                        </div>
                        <div class="card-body">
                           <div class="mb-2">
                              <a href="#" class="btn btn-sm btn-outline-primary w-100 mb-2">
                                 <i class="fas fa-file-pdf"></i> Visual Water Cycle Diagram
                              </a>
                              <a href="#" class="btn btn-sm btn-outline-primary w-100 mb-2">
                                 <i class="fas fa-headphones"></i> Audio Story Narration
                              </a>
                              <a href="#" class="btn btn-sm btn-outline-primary w-100">
                                 <i class="fas fa-film"></i> Video Demonstration
                              </a>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         
         <div class="text-center mt-2">
            <a href="#" class="btn btn-outline-primary">View All Lessons</a>
         </div>
      </div>
      <!-- Current Lesson Section Ends -->
      
      <!-- course material section starts -->
      <div class="rounded p-3 m-3 shadow border border-top-0 border-bottom-0 border-warning border-end-0 border-5" id="material">
         <!-- section title -->
         <div class="fw-bold animate__animated animate__zoomInDown fs-5 text-center border-bottom border-1 mb-2 py-2" style="color: rgb(10, 10, 48);"><img src="{% static 'images/icon/folder.png' %}"
            alt="" style="height:1.5rem;vertical-align: text-top"><span style="margin-right: 0.6rem;"></span>Course Material</div>
         <!-- section title ends -->
         <div>
            {% for material in materials  %}
            <!-- individual material starts -->
            <p>{% autoescape off %}{{ material.description }}{% endautoescape %}</p>
            <div class="d-flex justify-content-between text-break">
               {% if material.file %}
               <a class="fw-bold" href="{{ material.file.url }}"><span style="color:#9400d3" id="materialName">File : {{material.file.name}}</span></a><br>
               {% endif %}
               <div class="text-muted">
                  {{material.post_date}}
               </div>
            </div>
            {% empty %}
            <div class="row">
               <div class="col-md-6 mb-3">
                  <div class="card h-100">
                     <div class="card-body">
                        <h5 class="card-title">Water Cycle Materials</h5>
                        <p class="card-text mb-3">Essential learning materials for the Water Cycle unit:</p>
                        <ul class="list-unstyled">
                           <li><a href="#" class="text-decoration-none">üìÑ Water Cycle Vocabulary Sheet</a></li>
                           <li><a href="#" class="text-decoration-none">üìÑ Visual Learning Cards</a></li>
                           <li><a href="#" class="text-decoration-none">üìÑ Water Cycle Experiment Instructions</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="col-md-6 mb-3">
                  <div class="card h-100">
                     <div class="card-body">
                        <h5 class="card-title">Drama-Based Learning Resources</h5>
                        <p class="card-text mb-3">Enhance understanding through performance:</p>
                        <ul class="list-unstyled">
                           <li><a href="#" class="text-decoration-none">üìÑ "Be the Water Cycle" Script</a></li>
                           <li><a href="#" class="text-decoration-none">üìÑ Character Role Cards</a></li>
                           <li><a href="#" class="text-decoration-none">üìÑ Performance Tips for Students</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
            {% endfor %}
            <!-- individual material ends -->
         </div>
      </div>
      <!-- course material section ends -->
      
      <!-- Discussion Section -->
      <div class="rounded p-3 m-3 shadow border border-top-0 border-end-0 border-bottom-0 border-info border-5 mb-3">
         <div class="fw-bold fs-5 text-center border-bottom border-1 mb-2 py-2" style="color: rgb(10, 10, 48);">
            <img src="{% static 'images/icon/chat.png' %}" alt="" style="height:1.5rem; vertical-align: text-top">
            <span style="margin-right: 0.6rem;"></span>Discussion
         </div>
         
         <div class="mb-3">
            <div class="card mb-3">
               <div class="card-body">
                  <h5 class="card-title">Share Your Water Cycle Experiment Results!</h5>
                  <p class="card-text">How did your "Water Cycle in a Bag" experiment turn out? Share your observations and any questions you have!</p>
                  <a href="{% url 'discussion' course.code %}" class="btn btn-outline-info">Join Discussion</a>
               </div>
            </div>
         </div>
      </div>
      <!-- Discussion Section Ends -->
   </div>
</div>
<script>
   // Keep any existing JavaScript
   var materialName = document.getElementById("materialName");
   if(materialName) {
      materialName.innerHTML = materialName.innerHTML.replace("materials/", "");
   }
</script>
{% endblock %}